<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Matter Interaction Response Handlers &mdash; SmartThings Edge Device Drivers  documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/font-style.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Matter Data Types" href="data_types.html" />
    <link rel="prev" title="MatterDevice Class" href="device.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> SmartThings Edge Device Drivers
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">References:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../reference/index.html">Edge Device Driver Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../global_environment.html">Global Environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../driver.html">Driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="../device.html">Device</a></li>
<li class="toctree-l2"><a class="reference internal" href="../capabilities.html">Capabilities</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="matter.html">Matter Libraries</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="driver.html">Matter Driver Structures</a></li>
<li class="toctree-l3"><a class="reference internal" href="device.html">MatterDevice Class</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Matter Interaction Response Handlers</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#attribute-report-handlers">Attribute Report Handlers</a></li>
<li class="toctree-l4"><a class="reference internal" href="#event-report-handlers">Event Report Handlers</a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-response-handlers">Command Response Handlers</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="data_types.html">Matter Data Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="interaction_model.html">Interaction Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="generated.html">Generated Matter Code</a></li>
<li class="toctree-l3"><a class="reference internal" href="defaults.html">Matter Driver Capability Defaults</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../zigbee/zigbee.html">Zigbee Libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../zwave/zwave.html">Z-Wave Libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../socket.html">Socket</a></li>
<li class="toctree-l2"><a class="reference internal" href="../datastore.html">Datastore</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dispatchers.html">Dispatchers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../buf.html">Buffer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../thread.html">Thread</a></li>
<li class="toctree-l2"><a class="reference internal" href="../log.html">Log</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utils.html">Utils</a></li>
<li class="toctree-l2"><a class="reference internal" href="../integration_tests.html">Integration Tests</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">SmartThings Edge Device Drivers</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../reference/index.html">Edge Device Driver Reference</a> &raquo;</li>
          <li><a href="matter.html">Matter Libraries</a> &raquo;</li>
      <li>Matter Interaction Response Handlers</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/matter/matter_message_handlers.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="matter-interaction-response-handlers">
<h1>Matter Interaction Response Handlers<a class="headerlink" href="#matter-interaction-response-handlers" title="Permalink to this headline"></a></h1>
<p><code class="docutils literal notranslate"><span class="pre">InteractionResponseHandler</span></code> is the base class for all other handler types. When dispatching a received <code class="docutils literal notranslate"><span class="pre">InteractionResponse</span></code> from
a device, the <code class="docutils literal notranslate"><span class="pre">MatterDriver</span></code>s dispatcher will dispatch each <code class="docutils literal notranslate"><span class="pre">InteractionResponseInfoBlock</span></code> into a handler
based on the info blocks cluster interaction path.</p>
<section id="attribute-report-handlers">
<h2>Attribute Report Handlers<a class="headerlink" href="#attribute-report-handlers" title="Permalink to this headline"></a></h2>
<p>These specifically handle attribute reports generated from the devices subscription, or a read interaction request.
The <code class="docutils literal notranslate"><span class="pre">MatterDriver</span></code> dispatcher will not dispatch attribute reports unless the status on the
<code class="docutils literal notranslate"><span class="pre">InteractionResponseInfoBlock</span></code> is <code class="docutils literal notranslate"><span class="pre">SUCCESS</span></code>.</p>
<dl class="lua function">
<dt class="sig sig-object lua" id="attribute_report_handler">
<em class="property"> </em><span class="sig-name descname"><span class="pre">attribute_report_handler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">driver</span></em>, <em class="sig-param"><span class="pre">device</span></em>, <em class="sig-param"><span class="pre">rb</span></em>, <em class="sig-param"><span class="pre">response</span></em><span class="sig-paren">)</span><a class="headerlink" href="#attribute_report_handler" title="Permalink to this definition"></a></dt>
<dd><p>Handle a single attribute report data block sent from the device</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>driver</strong> (<span><a class="reference internal" href="../driver.html#Driver" title="Driver"><code class="xref lua lua-class docutils literal notranslate"><span class="pre">Driver</span></code></a></span>) – the driver context</p></li>
<li><p><strong>device</strong> (<span><a class="reference internal" href="device.html#st.matter.Device" title="st.matter.Device"><code class="xref lua lua-class docutils literal notranslate"><span class="pre">st.matter.Device</span></code></a></span>) – the device reporting the attribute</p></li>
<li><p><strong>rb</strong> (<span><a class="reference internal" href="interaction_model.html#st.matter.interaction_model.InteractionResponseInfoBlock" title="st.matter.interaction_model.InteractionResponseInfoBlock"><code class="xref lua lua-class docutils literal notranslate"><span class="pre">st.matter.interaction_model.InteractionResponseInfoBlock</span></code></a></span>) – the response block object table</p></li>
<li><p><strong>response</strong> (<span><a class="reference internal" href="interaction_model.html#st.matter.interaction_model.InteractionResponse" title="st.matter.interaction_model.InteractionResponse"><code class="xref lua lua-class docutils literal notranslate"><span class="pre">st.matter.interaction_model.InteractionResponse</span></code></a></span>) – the full Interaction response message this attribute was a part of</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="event-report-handlers">
<h2>Event Report Handlers<a class="headerlink" href="#event-report-handlers" title="Permalink to this headline"></a></h2>
<p>These handle event reports generated from the devices subscription, or a read interaction request.
The <code class="docutils literal notranslate"><span class="pre">MatterDriver</span></code> dispatcher will not dispatch event reports unless the status on the
<code class="docutils literal notranslate"><span class="pre">InteractionResponseInfoBlock</span></code> is <code class="docutils literal notranslate"><span class="pre">SUCCESS</span></code>. Event reports received from a read interaction
response may have already been processed by the driver. This would happen if the event being read is
also included in the device’s subscription. The handler has no way to distinguish between an event
report from a read interaction or a report from the devices subscription, so it is advisable to not
read and subscribe to the same event in a driver.</p>
<dl class="lua function">
<dt class="sig sig-object lua" id="event_report_handler">
<em class="property"> </em><span class="sig-name descname"><span class="pre">event_report_handler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">driver</span></em>, <em class="sig-param"><span class="pre">device</span></em>, <em class="sig-param"><span class="pre">rb</span></em>, <em class="sig-param"><span class="pre">response</span></em><span class="sig-paren">)</span><a class="headerlink" href="#event_report_handler" title="Permalink to this definition"></a></dt>
<dd><p>Handle a single event report data block sent from the device</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>driver</strong> (<span><a class="reference internal" href="../driver.html#Driver" title="Driver"><code class="xref lua lua-class docutils literal notranslate"><span class="pre">Driver</span></code></a></span>) – the driver context</p></li>
<li><p><strong>device</strong> (<span><a class="reference internal" href="device.html#st.matter.Device" title="st.matter.Device"><code class="xref lua lua-class docutils literal notranslate"><span class="pre">st.matter.Device</span></code></a></span>) – the device reporting the event</p></li>
<li><p><strong>rb</strong> (<span><a class="reference internal" href="interaction_model.html#st.matter.interaction_model.InteractionResponseInfoBlock" title="st.matter.interaction_model.InteractionResponseInfoBlock"><code class="xref lua lua-class docutils literal notranslate"><span class="pre">st.matter.interaction_model.InteractionResponseInfoBlock</span></code></a></span>) – the response block object table that contains the event data</p></li>
<li><p><strong>response</strong> (<span><a class="reference internal" href="interaction_model.html#st.matter.interaction_model.InteractionResponse" title="st.matter.interaction_model.InteractionResponse"><code class="xref lua lua-class docutils literal notranslate"><span class="pre">st.matter.interaction_model.InteractionResponse</span></code></a></span>) – the full Interaction response message this event was a part of</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="command-response-handlers">
<h2>Command Response Handlers<a class="headerlink" href="#command-response-handlers" title="Permalink to this headline"></a></h2>
<p>These handle command responses generated from the device as part of an invoke interaction.
The <code class="docutils literal notranslate"><span class="pre">MatterDriver</span></code> dispatcher will dispatch command response blocks regardless of the status on the
<code class="docutils literal notranslate"><span class="pre">InteractionResponseInfoBlock</span></code> .</p>
<dl class="lua function">
<dt class="sig sig-object lua" id="cmd_response_handler">
<em class="property"> </em><span class="sig-name descname"><span class="pre">cmd_response_handler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">driver</span></em>, <em class="sig-param"><span class="pre">device</span></em>, <em class="sig-param"><span class="pre">rb</span></em>, <em class="sig-param"><span class="pre">response</span></em><span class="sig-paren">)</span><a class="headerlink" href="#cmd_response_handler" title="Permalink to this definition"></a></dt>
<dd><p>Handle a single command response sent from the device</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>driver</strong> (<span><a class="reference internal" href="../driver.html#Driver" title="Driver"><code class="xref lua lua-class docutils literal notranslate"><span class="pre">Driver</span></code></a></span>) – the driver context</p></li>
<li><p><strong>device</strong> (<span><a class="reference internal" href="device.html#st.matter.Device" title="st.matter.Device"><code class="xref lua lua-class docutils literal notranslate"><span class="pre">st.matter.Device</span></code></a></span>) – the device reporting the event</p></li>
<li><p><strong>rb</strong> (<span><a class="reference internal" href="interaction_model.html#st.matter.interaction_model.InteractionResponseInfoBlock" title="st.matter.interaction_model.InteractionResponseInfoBlock"><code class="xref lua lua-class docutils literal notranslate"><span class="pre">st.matter.interaction_model.InteractionResponseInfoBlock</span></code></a></span>) – the response block object table that contains the command path and command data</p></li>
<li><p><strong>response</strong> (<span><a class="reference internal" href="interaction_model.html#st.matter.interaction_model.InteractionResponse" title="st.matter.interaction_model.InteractionResponse"><code class="xref lua lua-class docutils literal notranslate"><span class="pre">st.matter.interaction_model.InteractionResponse</span></code></a></span>) – the full Interaction response message this command response was a part of</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="device.html" class="btn btn-neutral float-left" title="MatterDevice Class" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="data_types.html" class="btn btn-neutral float-right" title="Matter Data Types" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, SmartThings.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>